let allEnemies=[];const enemyPosition=[50,140,220];let enemy;const path="../../dist/assets/images/";var lives=2,hearts=document.querySelectorAll(".fa-heart");const canvas=document.querySelector("#canvas"),modal=document.querySelector(".modal");class Enemy{constructor(e,s,t){this.x=e,this.y=s,this.speed=t,this.sprite=`${path}enemy-bug.png`}render(){ctx.drawImage(Resources.get(this.sprite),this.x,this.y)}update(e){this.x+=this.speed*e,this.x>500&&(this.x=-100,this.speed=100+Math.floor(500*Math.random()))}collisionCheck(){player.x<this.x+60&&player.x+40>this.x&&player.y<this.y+25&&30+player.y>this.y&&(player.x=startX,player.y=startY,scoreVal.innerText=score-=75,hearts[lives].classList.remove("fas"),hearts[lives].classList.add("far"),lives--,endGame())}}enemyPosition.map(e=>{enemy=new Enemy(0,e,100+Math.floor(1e3*Math.random())),allEnemies.push(enemy)});
const gemList=[green={name:"green",path:`${path}gem-green.png`},blue={name:"blue",path:`${path}gem-blue.png`},orange={name:"orange",path:`${path}gem-orange.png`}];let xpos=Math.floor(300*Math.random()+1);console.log(xpos);let ypos=Math.floor(400*Math.random()+1);console.log(ypos);class GemStone{constructor(e,t,o){this.x=Math.floor(300*Math.random()+1),this.y=Math.floor(400*Math.random()+1),this.sprite=`${gemList[Math.floor(Math.random()*gemList.length)].path}`}render(){ctx.drawImage(Resources.get(this.sprite),this.x,this.y)}update(){player.x<this.x+80&&player.x+80>this.x&&player.y<this.y+80&&80+player.y>this.y&&(this.x=-100,this.y=-100,scoreVal.innerText=score+=50)}}let gem=new GemStone(xpos,ypos);
const final=document.getElementById("final-score");function endGame(){lives<0&&(console.log("game over"),canvas.style.display="none",modal.style.display="block",final.innerText=scoreVal.innerText)}function newGame(){lives=2,score=0,scoreVal.innerText=0,modal.style.display="none",canvas.style.display="initial";for(var e=0;e<hearts.length;e++)hearts[e].classList.remove("far"),hearts[e].classList.add("fas")}
const spriteList=[`${path}char-boy.png`,`${path}char-cat-girl.png`,`${path}char-horn-girl.png`,`${path}char-pink-girl.png`,`${path}char-princess-girl.png`];let score=0;var scoreVal=document.getElementsByClassName("score")[0];const startX=200,startY=380,middlePos=50;class Player{constructor(t,s,e){this.x=t,this.y=s,this.speed=e,this.sprite=spriteList[Math.floor(Math.random()*spriteList.length)]}render(){ctx.drawImage(Resources.get(this.sprite),this.x,this.y)}update(){this.y>startY&&(this.y=startY),this.x>400&&(this.x=400),this.x<0&&(this.x=0),this.y<0&&(gem=new GemStone(xpos,ypos),this.x=startX,this.y=startY,scoreVal.innerText=score+=100)}}Player.prototype.handleInput=function(t){switch(t){case"left":this.x-=this.speed+50,console.log(this.x);break;case"up":this.y-=this.speed+30,console.log(this.y);break;case"right":this.x+=this.speed+50,console.log(this.x);break;case"down":this.y+=this.speed+30,console.log(this.y)}},document.addEventListener("keyup",function(t){player.handleInput({37:"left",38:"up",39:"right",40:"down"}[t.keyCode])});let player=new Player(startX,startY,50);